From acd0ab501e82b96c0f5b667d08ff82f7e7d1b184 Mon Sep 17 00:00:00 2001
From: Richard Hughes <richard@hughsie.com>
Date: Thu, 26 Apr 2012 14:25:56 +0100
Subject: [PATCH] Fix the libpackagekit-qt and add some better docs

Thanks also to vuntz for the help. Cheers dude.
---
 configure.ac |   33 +++++++++++++++++++++++++++------
 1 files changed, 27 insertions(+), 6 deletions(-)

diff --git a/configure.ac b/configure.ac
index 640a3b5..9362dfa 100644
--- a/configure.ac
+++ b/configure.ac
@@ -39,11 +39,19 @@ AC_SUBST(PK_VERSION)
 #
 # See http://sources.redhat.com/autobook/autobook/autobook_91.html#SEC91 for details
 #
-# increment;
-# CURRENT	If the API or ABI interface has changed (reset REVISION to 0)
-# REVISION	If the API and ABI remains the same, but bugs are fixed.
-# AGE		If libpackagekit can be linked into executables which can be
-# 		built with previous versions of this library. Don't use.
+# - If interfaces have been changed or added, but binary compatibility
+#   has been preserved, change:
+#      CURRENT += 1
+#      REVISION = 0
+#      AGE += 1
+# - If binary compatibility has been broken (eg removed or changed
+#   interfaces), change:
+#      CURRENT += 1
+#      REVISION = 0
+#      AGE = 0
+# - If the interface is the same as the previous version, but bugs are
+#   fixed, change:
+#      REVISION += 1
 LT_CURRENT=14
 LT_REVISION=13
 LT_AGE=0
@@ -53,7 +61,20 @@ AC_SUBST(LT_AGE)
 
 # libtool versioning - this applies to libpackagekit-qt2
 #
-LT_QT_CURRENT=2
+# - If interfaces have been changed or added, but binary compatibility
+#   has been preserved, change:
+#      CURRENT += 1
+#      REVISION = 0
+#      AGE += 1
+# - If binary compatibility has been broken (eg removed or changed
+#   interfaces), change:
+#      CURRENT += 1
+#      REVISION = 0
+#      AGE = 0
+# - If the interface is the same as the previous version, but bugs are
+#   fixed, change:
+#      REVISION += 1
+LT_QT_CURRENT=3
 LT_QT_REVISION=0
 LT_QT_AGE=1
 AC_SUBST(LT_QT_CURRENT)
-- 
1.7.6

